<div class="alert alert-danger" *ngIf="errors">{{errors.errMsg}}</div>

<p *ngIf="settings.crud" [style.display]="(!onDetailView) ? 'block' : 'none' ">
  <button type="button" class="btn btn-primary" (click)="createItem()">Create</button>
</p>
<div class="grid-view" [style.display]="(!onDetailView) ? 'block' : 'none' ">
  <app-datatable
    [columns]="columns"
    [settings]="settings"
    [items]="items"
    [filters]="filters"
    [rowMenu]="rowMenu"
    [itemsPerPage]="itemsPerPage"
    [totalItems]="totalItems"
    [loading]="loading"
    (filterChanged)="onFilter($event)"
    (pageChanged)="pageChanged($event)"
    (sortChanged)="sort($event)"
    (editComplete)="editItem($event)"
    (selectedRowIndexChanged)="onSelectedRow($event)">
  </app-datatable>
</div>

<modal-edit-form #modalEditForm
  [columns]="columns"
  [item]="item"
  [settings]="settings"
  [service]="service"
  (saved)="onSaved($event)"
  (updated)="onUpdated($event)"
  (deleted)="onDeleted($event)"
  (loading)="onLoading($event)"
  (errors)="onErrors($event)">
</modal-edit-form>

<detail-view *ngIf="onDetailView && item"
             [columns]="columns"
             [item]="item"
             [settings]="settings"
             (onClose)="closeDetails()"
             (onSaveItem)="save()"
             (onDeleteItem)="delete()">
</detail-view>
